{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\fred\\\\Desktop\\\\client\\\\src\\\\screens\\\\TasksScreen.js\",\n  _this = this;\nimport React, { useState, useEffect, useCallback } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ModalDropdown from 'react-native-modal-dropdown';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { format, getYear } from 'date-fns';\nimport { ru } from 'date-fns/locale';\nimport styles from '../styles/styles';\nimport { CalendarIcon, TodayIcon } from '../icons';\nimport AddButton from '../components/AddButton';\nimport CustomCalendar from '../components/CustomCalendar';\nimport VerticalCalendar from '../components/VerticalCalendar';\nimport NewTaskScreen from './NewTaskScreen';\nimport { isToday, fetchTaskDates, fetchTasksForSelectedDate } from '../utils/tasks';\nimport { taskEventEmitter } from '../Events';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar VIEW_MODES = {\n  TODAY: 'today',\n  CALENDAR: 'calendar'\n};\nvar TasksScreen = function TasksScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    tasks = _useState2[0],\n    setTasks = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    taskDates = _useState4[0],\n    setTaskDates = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isNewTaskScreenVisible = _useState6[0],\n    setNewTaskScreenVisible = _useState6[1];\n  var _useState7 = useState(new Date()),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedDate = _useState8[0],\n    setSelectedDate = _useState8[1];\n  var _useState9 = useState(VIEW_MODES.TODAY),\n    _useState10 = _slicedToArray(_useState9, 2),\n    viewMode = _useState10[0],\n    setViewMode = _useState10[1];\n  var _useState11 = useState(format(selectedDate, 'd MMMM', {\n      locale: ru\n    })),\n    _useState12 = _slicedToArray(_useState11, 2),\n    headerTitle = _useState12[0],\n    setHeaderTitle = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isUserResponsible = _useState14[0],\n    setIsUserResponsible = _useState14[1];\n  var _useState15 = useState(getYear(new Date())),\n    _useState16 = _slicedToArray(_useState15, 2),\n    currentYear = _useState16[0],\n    setCurrentYear = _useState16[1];\n  var _useState17 = useState(currentYear),\n    _useState18 = _slicedToArray(_useState17, 2),\n    selectedYear = _useState18[0],\n    setSelectedYear = _useState18[1];\n  var checkIfUserIsResponsible = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var userId = yield AsyncStorage.getItem('userId');\n        var response = yield fetch(`http://31.129.101.174/responsibles/check/${userId}`);\n        var data = yield response.json();\n        setIsUserResponsible(data.isResponsible);\n      } catch (error) {\n        console.error('Ошибка при проверке ответственности:', error);\n      }\n    });\n    return function checkIfUserIsResponsible() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    checkIfUserIsResponsible();\n  }, []);\n  var fetchData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        yield fetchTaskDates(setTaskDates);\n        yield fetchTasksForSelectedDate(selectedDate, setTasks);\n        setHeaderTitle(isToday(selectedDate) ? 'Сегодня' : format(selectedDate, 'd MMMM', {\n          locale: ru\n        }));\n      } catch (error) {\n        console.error('Error fetching tasks:', error);\n      }\n    });\n    return function fetchData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    fetchData();\n    taskEventEmitter.on('taskUpdated', fetchData);\n    return function () {\n      return taskEventEmitter.off('taskUpdated', fetchData);\n    };\n  }, [selectedDate]);\n  var handleViewModeToggle = useCallback(function () {\n    setViewMode(function (prevMode) {\n      return prevMode === VIEW_MODES.TODAY ? VIEW_MODES.CALENDAR : VIEW_MODES.TODAY;\n    });\n  }, []);\n  var handleYearChange = function handleYearChange(year) {\n    setSelectedYear(year);\n  };\n  var renderCalendar = function renderCalendar() {\n    return viewMode === VIEW_MODES.TODAY ? React.createElement(CustomCalendar, {\n      selectedDate: selectedDate,\n      onDateChange: setSelectedDate,\n      tasks: tasks,\n      taskDates: taskDates,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }) : React.createElement(VerticalCalendar, {\n      selectedDate: selectedDate,\n      onDateChange: setSelectedDate,\n      tasks: tasks,\n      taskDates: taskDates,\n      renderAddButton: renderAddButton,\n      selectedYear: selectedYear,\n      onYearChange: handleYearChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    });\n  };\n  var renderAddButton = function renderAddButton() {\n    return isUserResponsible ? React.createElement(AddButton, {\n      onPress: handleAddButtonPress,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 32\n      }\n    }) : null;\n  };\n  var handleAddButtonPress = useCallback(function () {\n    setNewTaskScreenVisible(true);\n  }, []);\n  var years = [getYear(new Date()) - 2, getYear(new Date()) - 1, getYear(new Date())];\n  var renderYearPicker = function renderYearPicker() {\n    return React.createElement(View, {\n      style: styles.yearPickerContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: styles.dropdownArrow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"\\u2193\")), React.createElement(ModalDropdown, {\n      options: years.map(function (year) {\n        return year.toString();\n      }),\n      defaultValue: selectedYear.toString(),\n      onSelect: function onSelect(index, value) {\n        return handleYearChange(Number(value));\n      },\n      style: styles.dropdownStyle,\n      textStyle: styles.dropdownTextStyle,\n      dropdownTextStyle: styles.dropdownTextItemStyle,\n      dropdownStyle: styles.dropdown,\n      renderSeparator: function renderSeparator() {\n        return React.createElement(View, {\n          style: styles.dropdownSeparator,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 34\n          }\n        });\n      },\n      renderRow: function renderRow(option) {\n        return console.log(years.map(function (year) {\n          return year.toString();\n        })), console.log(option), React.createElement(View, {\n          style: styles.dropdownRow,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: styles.dropdownTextItemStyle,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }\n        }, option));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }));\n  };\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.taskHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.titleMedium,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, viewMode === VIEW_MODES.TODAY ? headerTitle : 'Календарь'), React.createElement(View, {\n    style: styles.calendarBlock,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, viewMode === VIEW_MODES.TODAY && React.createElement(Text, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 47\n    }\n  }, format(selectedDate, 'MMMM, yyyy', {\n    locale: ru\n  })), viewMode === VIEW_MODES.CALENDAR && renderYearPicker(), React.createElement(TouchableOpacity, {\n    onPress: handleViewModeToggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, viewMode === VIEW_MODES.TODAY ? React.createElement(CalendarIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 48\n    }\n  }) : React.createElement(TodayIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 67\n    }\n  })))), renderCalendar(), viewMode === VIEW_MODES.TODAY && renderAddButton()), React.createElement(Modal, {\n    visible: isNewTaskScreenVisible,\n    onRequestClose: function onRequestClose() {\n      return setNewTaskScreenVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, React.createElement(NewTaskScreen, {\n    onClose: function onClose() {\n      return setNewTaskScreenVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  })));\n};\nexport default TasksScreen;","map":{"version":3,"names":["React","useState","useEffect","useCallback","View","Text","TouchableOpacity","Modal","ModalDropdown","SafeAreaView","format","getYear","ru","styles","CalendarIcon","TodayIcon","AddButton","CustomCalendar","VerticalCalendar","NewTaskScreen","isToday","fetchTaskDates","fetchTasksForSelectedDate","taskEventEmitter","AsyncStorage","VIEW_MODES","TODAY","CALENDAR","TasksScreen","_useState","_useState2","_slicedToArray","tasks","setTasks","_useState3","_useState4","taskDates","setTaskDates","_useState5","_useState6","isNewTaskScreenVisible","setNewTaskScreenVisible","_useState7","Date","_useState8","selectedDate","setSelectedDate","_useState9","_useState10","viewMode","setViewMode","_useState11","locale","_useState12","headerTitle","setHeaderTitle","_useState13","_useState14","isUserResponsible","setIsUserResponsible","_useState15","_useState16","currentYear","setCurrentYear","_useState17","_useState18","selectedYear","setSelectedYear","checkIfUserIsResponsible","_ref","_asyncToGenerator","userId","getItem","response","fetch","data","json","isResponsible","error","console","apply","arguments","fetchData","_ref2","on","off","handleViewModeToggle","prevMode","handleYearChange","year","renderCalendar","createElement","onDateChange","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","renderAddButton","onYearChange","onPress","handleAddButtonPress","years","renderYearPicker","style","yearPickerContainer","dropdownArrow","options","map","toString","defaultValue","onSelect","index","value","Number","dropdownStyle","textStyle","dropdownTextStyle","dropdownTextItemStyle","dropdown","renderSeparator","dropdownSeparator","renderRow","option","log","dropdownRow","container","contentContainer","taskHeader","titleMedium","calendarBlock","title","visible","onRequestClose","onClose"],"sources":["C:/Users/fred/Desktop/client/src/screens/TasksScreen.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { View, Text, TouchableOpacity, Modal } from 'react-native';\r\nimport ModalDropdown from 'react-native-modal-dropdown';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { format, getYear } from 'date-fns';\r\nimport { ru } from 'date-fns/locale';\r\nimport styles from '../styles/styles';\r\nimport { CalendarIcon, TodayIcon } from '../icons';\r\nimport AddButton from '../components/AddButton';\r\nimport CustomCalendar from '../components/CustomCalendar';\r\nimport VerticalCalendar from '../components/VerticalCalendar';\r\nimport NewTaskScreen from './NewTaskScreen';\r\nimport { isToday, fetchTaskDates, fetchTasksForSelectedDate } from '../utils/tasks';\r\nimport { taskEventEmitter } from '../Events';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst VIEW_MODES = {\r\n  TODAY: 'today',\r\n  CALENDAR: 'calendar',\r\n};\r\n\r\nconst TasksScreen = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [taskDates, setTaskDates] = useState([]);\r\n  const [isNewTaskScreenVisible, setNewTaskScreenVisible] = useState(false);\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [viewMode, setViewMode] = useState(VIEW_MODES.TODAY);\r\n  const [headerTitle, setHeaderTitle] = useState(format(selectedDate, 'd MMMM', { locale: ru }));\r\n  const [isUserResponsible, setIsUserResponsible] = useState(false);\r\n  const [currentYear, setCurrentYear] = useState(getYear(new Date())); // Текущий год\r\n  const [selectedYear, setSelectedYear] = useState(currentYear);\r\n\r\n  const checkIfUserIsResponsible = async () => {\r\n    try {\r\n      const userId = await AsyncStorage.getItem('userId');\r\n      // Замените URL на ваш серверный API для проверки\r\n      const response = await fetch(`http://31.129.101.174/responsibles/check/${userId}`);\r\n      const data = await response.json();\r\n\r\n      setIsUserResponsible(data.isResponsible);\r\n    } catch (error) {\r\n      console.error('Ошибка при проверке ответственности:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkIfUserIsResponsible();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      await fetchTaskDates(setTaskDates);\r\n      await fetchTasksForSelectedDate(selectedDate, setTasks);\r\n      setHeaderTitle(isToday(selectedDate) ? 'Сегодня' : format(selectedDate, 'd MMMM', { locale: ru }));\r\n    } catch (error) {\r\n      console.error('Error fetching tasks:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    taskEventEmitter.on('taskUpdated', fetchData);\r\n    return () => taskEventEmitter.off('taskUpdated', fetchData);\r\n  }, [selectedDate]);\r\n\r\n  const handleViewModeToggle = useCallback(() => {\r\n    setViewMode(prevMode => prevMode === VIEW_MODES.TODAY ? VIEW_MODES.CALENDAR : VIEW_MODES.TODAY);\r\n  }, []);\r\n\r\n  const handleYearChange = (year) => {\r\n    setSelectedYear(year);\r\n  };\r\n\r\n  const renderCalendar = () => (\r\n    viewMode === VIEW_MODES.TODAY\r\n      ? <CustomCalendar selectedDate={selectedDate} onDateChange={setSelectedDate} tasks={tasks} taskDates={taskDates} />\r\n      : <VerticalCalendar selectedDate={selectedDate} onDateChange={setSelectedDate} tasks={tasks} taskDates={taskDates} renderAddButton={renderAddButton} selectedYear={selectedYear} onYearChange={handleYearChange} />\r\n  );\r\n\r\n  const renderAddButton = () => {\r\n    return isUserResponsible ? <AddButton onPress={handleAddButtonPress} /> : null;\r\n  };\r\n\r\n  const handleAddButtonPress = useCallback(() => {\r\n    setNewTaskScreenVisible(true);\r\n  }, []);\r\n\r\n  const years = [getYear(new Date()) - 2, getYear(new Date()) - 1, getYear(new Date())];\r\n\r\n  const renderYearPicker = () => {\r\n    return (\r\n      <View style={styles.yearPickerContainer}>\r\n        <View style={styles.dropdownArrow}>\r\n          <Text>↓</Text>\r\n        </View>\r\n        <ModalDropdown\r\n          options={years.map(year => year.toString())}\r\n          defaultValue={selectedYear.toString()}\r\n          onSelect={(index, value) => handleYearChange(Number(value))}\r\n          style={styles.dropdownStyle}\r\n          textStyle={styles.dropdownTextStyle}\r\n          dropdownTextStyle={styles.dropdownTextItemStyle}\r\n          dropdownStyle={styles.dropdown}\r\n          renderSeparator={() => <View style={styles.dropdownSeparator} />}\r\n          renderRow={(option) => (\r\n            console.log(years.map(year => year.toString())),\r\n            console.log(option),\r\n            <View style={styles.dropdownRow}>\r\n              <Text style={styles.dropdownTextItemStyle}>{option}</Text>\r\n            </View>\r\n          )}\r\n        />\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.contentContainer}>\r\n        <View style={styles.taskHeader}>\r\n          <Text style={styles.titleMedium}>{viewMode === VIEW_MODES.TODAY ? headerTitle : 'Календарь'}</Text>\r\n          <View style={styles.calendarBlock}>\r\n            {viewMode === VIEW_MODES.TODAY && <Text style={styles.title}>{format(selectedDate, 'MMMM, yyyy', { locale: ru })}</Text>}\r\n            {viewMode === VIEW_MODES.CALENDAR && renderYearPicker()}\r\n            <TouchableOpacity onPress={handleViewModeToggle}>\r\n              {viewMode === VIEW_MODES.TODAY ? <CalendarIcon /> : <TodayIcon />}\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        {renderCalendar()}\r\n        {viewMode === VIEW_MODES.TODAY && renderAddButton()}\r\n      </View>\r\n      <Modal visible={isNewTaskScreenVisible} onRequestClose={() => setNewTaskScreenVisible(false)}>\r\n        <NewTaskScreen onClose={() => setNewTaskScreenVisible(false)} />\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default TasksScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}