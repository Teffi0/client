{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _icons = require(\"../icons\");\nvar _styles = _interopRequireDefault(require(\"../styles/styles\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _jsxFileName = \"C:\\\\Users\\\\fred\\\\Desktop\\\\client\\\\src\\\\components\\\\DropdownEmployee.js\";\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction DropdownEmployee(_ref) {\n  var _this = this;\n  var options = _ref.options,\n    selectedValues = _ref.selectedValues,\n    onValueChange = _ref.onValueChange;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    showOptions = _useState2[0],\n    setShowOptions = _useState2[1];\n  var _useState3 = (0, _react.useState)(selectedValues || []),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    selectedOptions = _useState4[0],\n    setSelectedOptions = _useState4[1];\n  var _useState5 = (0, _react.useState)(''),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    searchText = _useState6[0],\n    setSearchText = _useState6[1];\n  var filteredOptions = (0, _react.useMemo)(function () {\n    return options.filter(function (option) {\n      return option.full_name.toLowerCase().includes(searchText.toLowerCase());\n    });\n  }, [options, searchText]);\n  (0, _react.useEffect)(function () {\n    setSelectedOptions(selectedValues);\n  }, [selectedValues]);\n  var handleSelectOption = (0, _react.useCallback)(function (option) {\n    setSelectedOptions(function (prevSelectedOptions) {\n      var newSelectedOptions = prevSelectedOptions.includes(option.id) ? prevSelectedOptions.filter(function (id) {\n        return id !== option.id;\n      }) : [].concat((0, _toConsumableArray2.default)(prevSelectedOptions), [option.id]);\n      onValueChange(newSelectedOptions);\n      return newSelectedOptions;\n    });\n  }, [onValueChange]);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return (0, _jsxRuntime.jsxs)(_reactNative.TouchableOpacity, {\n      onPress: function onPress() {\n        return handleSelectOption(item);\n      },\n      style: _styles.default.rowStyle,\n      children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {\n        children: item.full_name\n      }), selectedOptions.includes(item.id) ? (0, _jsxRuntime.jsx)(_icons.CancelIcon, {}) : (0, _jsxRuntime.jsx)(_icons.ChooseIcon, {})]\n    });\n  };\n  var renderSelectedItem = function renderSelectedItem(_ref3) {\n    var item = _ref3.item;\n    var selectedItem = options.find(function (option) {\n      return option.id === item;\n    });\n    return selectedItem ? (0, _jsxRuntime.jsx)(_reactNative.View, {\n      style: _styles.default.selectedItemContainer,\n      children: (0, _jsxRuntime.jsxs)(_reactNative.View, {\n        style: _styles.default.selectedItemTextRow,\n        children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {\n          style: _styles.default.selectedItemText,\n          children: selectedItem.full_name\n        }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {\n          onPress: function onPress() {\n            return handleSelectOption(selectedItem);\n          },\n          children: (0, _jsxRuntime.jsx)(_icons.CancelIcon, {})\n        })]\n      })\n    }) : null;\n  };\n  return (0, _jsxRuntime.jsxs)(_reactNative.View, {\n    children: [(0, _jsxRuntime.jsxs)(_reactNative.TouchableOpacity, {\n      onPress: function onPress() {\n        return setShowOptions(!showOptions);\n      },\n      style: _styles.default.searchContainer,\n      children: [(0, _jsxRuntime.jsx)(_reactNative.TextInput, {\n        style: _styles.default.dropdownInput,\n        placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n        value: searchText,\n        onChangeText: function onChangeText(text) {\n          setSearchText(text);\n          setShowOptions(true);\n        },\n        onFocus: function onFocus() {\n          return setShowOptions(true);\n        }\n      }), (0, _jsxRuntime.jsx)(_icons.ChooseIcon, {})]\n    }), showOptions && (0, _jsxRuntime.jsx)(_reactNative.View, {\n      style: _styles.default.dropdownList,\n      children: (0, _jsxRuntime.jsx)(_reactNative.FlatList, {\n        data: filteredOptions,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        renderItem: renderItem,\n        scrollEnabled: false\n      })\n    }), (0, _jsxRuntime.jsx)(_reactNative.FlatList, {\n      data: selectedOptions,\n      keyExtractor: function keyExtractor(item) {\n        return item.toString();\n      },\n      renderItem: renderSelectedItem,\n      scrollEnabled: false\n    })]\n  });\n}\nvar _default = exports.default = DropdownEmployee;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_icons","_styles","_interopRequireDefault","_jsxRuntime","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","DropdownEmployee","_ref","_this","options","selectedValues","onValueChange","_useState","useState","_useState2","_slicedToArray2","showOptions","setShowOptions","_useState3","_useState4","selectedOptions","setSelectedOptions","_useState5","_useState6","searchText","setSearchText","filteredOptions","useMemo","filter","option","full_name","toLowerCase","includes","useEffect","handleSelectOption","useCallback","prevSelectedOptions","newSelectedOptions","id","concat","_toConsumableArray2","renderItem","_ref2","item","jsxs","TouchableOpacity","onPress","style","styles","rowStyle","children","jsx","Text","CancelIcon","ChooseIcon","renderSelectedItem","_ref3","selectedItem","find","View","selectedItemContainer","selectedItemTextRow","selectedItemText","searchContainer","TextInput","dropdownInput","placeholder","value","onChangeText","text","onFocus","dropdownList","FlatList","data","keyExtractor","toString","scrollEnabled","_default","exports"],"sources":["C:/Users/fred/Desktop/client/src/components/DropdownEmployee.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, FlatList, TextInput } from 'react-native';\r\nimport { ChooseIcon, CancelIcon } from '../icons';\r\nimport styles from '../styles/styles';\r\n\r\nfunction DropdownEmployee({ options, selectedValues, onValueChange }) {\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [selectedOptions, setSelectedOptions] = useState(selectedValues || []);\r\n    const [searchText, setSearchText] = useState('');\r\n\r\n    const filteredOptions = useMemo(() =>\r\n        options.filter(option =>\r\n            option.full_name.toLowerCase().includes(searchText.toLowerCase())\r\n        ), [options, searchText]\r\n    );\r\n\r\n    useEffect(() => {\r\n        setSelectedOptions(selectedValues);\r\n    }, [selectedValues]);\r\n\r\n    const handleSelectOption = useCallback((option) => {\r\n        setSelectedOptions(prevSelectedOptions => {\r\n            const newSelectedOptions = prevSelectedOptions.includes(option.id)\r\n                ? prevSelectedOptions.filter(id => id !== option.id)\r\n                : [...prevSelectedOptions, option.id];\r\n            onValueChange(newSelectedOptions);\r\n            return newSelectedOptions;\r\n        });\r\n    }, [onValueChange]);\r\n\r\n    const renderItem = ({ item }) => (\r\n        <TouchableOpacity\r\n            onPress={() => handleSelectOption(item)}\r\n            style={styles.rowStyle}\r\n        >\r\n            <Text>{item.full_name}</Text>\r\n            {selectedOptions.includes(item.id) ? <CancelIcon /> : <ChooseIcon />}\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    const renderSelectedItem = ({ item }) => {\r\n        const selectedItem = options.find(option => option.id === item);\r\n        return selectedItem ? (\r\n            <View style={styles.selectedItemContainer}>\r\n                <View style={styles.selectedItemTextRow}>\r\n                    <Text style={styles.selectedItemText}>{selectedItem.full_name}</Text>\r\n                    <TouchableOpacity onPress={() => handleSelectOption(selectedItem)}>\r\n                        <CancelIcon />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        ) : null;\r\n    };\r\n\r\n    return (\r\n        <View>\r\n            <TouchableOpacity\r\n                onPress={() => setShowOptions(!showOptions)}\r\n                style={styles.searchContainer}\r\n            >\r\n                <TextInput\r\n                    style={styles.dropdownInput}\r\n                    placeholder=\"Поиск...\"\r\n                    value={searchText}\r\n                    onChangeText={(text) => {\r\n                        setSearchText(text);\r\n                        setShowOptions(true);\r\n                    }}\r\n                    onFocus={() => setShowOptions(true)}\r\n                />\r\n                <ChooseIcon />\r\n            </TouchableOpacity>\r\n            {showOptions && (\r\n                <View style={styles.dropdownList}>\r\n                    <FlatList\r\n                        data={filteredOptions}\r\n                        keyExtractor={(item) => item.id.toString()}\r\n                        renderItem={renderItem}\r\n                        scrollEnabled={false}\r\n                    />\r\n                </View>\r\n            )}\r\n            <FlatList\r\n                data={selectedOptions}\r\n                keyExtractor={(item) => item.toString()}\r\n                renderItem={renderSelectedItem}\r\n                scrollEnabled={false}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default DropdownEmployee;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}