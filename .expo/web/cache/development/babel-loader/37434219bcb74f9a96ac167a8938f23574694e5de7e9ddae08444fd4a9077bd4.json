{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\fred\\\\Desktop\\\\client\\\\src\\\\components\\\\DropdownEmployee.js\";\nimport React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { ChooseIcon, CancelIcon } from '../icons';\nimport styles from '../styles/styles';\nfunction DropdownEmployee(_ref) {\n  var _this = this;\n  var options = _ref.options,\n    selectedValues = _ref.selectedValues,\n    onValueChange = _ref.onValueChange;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showOptions = _useState2[0],\n    setShowOptions = _useState2[1];\n  var _useState3 = useState(selectedValues || []),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedOptions = _useState4[0],\n    setSelectedOptions = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchText = _useState6[0],\n    setSearchText = _useState6[1];\n  var filteredOptions = useMemo(function () {\n    return options.filter(function (option) {\n      return option.full_name.toLowerCase().includes(searchText.toLowerCase());\n    });\n  }, [options, searchText]);\n  useEffect(function () {\n    setSelectedOptions(selectedValues);\n  }, [selectedValues]);\n  var handleSelectOption = useCallback(function (option) {\n    setSelectedOptions(function (prevSelectedOptions) {\n      var newSelectedOptions = prevSelectedOptions.includes(option.id) ? prevSelectedOptions.filter(function (id) {\n        return id !== option.id;\n      }) : [].concat(_toConsumableArray(prevSelectedOptions), [option.id]);\n      onValueChange(newSelectedOptions);\n      return newSelectedOptions;\n    });\n  }, [onValueChange]);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleSelectOption(item);\n      },\n      style: styles.rowStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, item.full_name), selectedOptions.includes(item.id) ? React.createElement(CancelIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 50\n      }\n    }) : React.createElement(ChooseIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 67\n      }\n    }));\n  };\n  var renderSelectedItem = function renderSelectedItem(_ref3) {\n    var item = _ref3.item;\n    var selectedItem = options.find(function (option) {\n      return option.id === item;\n    });\n    return selectedItem ? React.createElement(View, {\n      style: styles.selectedItemContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.selectedItemTextRow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: styles.selectedItemText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, selectedItem.full_name), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleSelectOption(selectedItem);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, React.createElement(CancelIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    })))) : null;\n  };\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowOptions(!showOptions);\n    },\n    style: styles.searchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.dropdownInput,\n    placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n    value: searchText,\n    onChangeText: function onChangeText(text) {\n      setSearchText(text);\n      setShowOptions(true);\n    },\n    onFocus: function onFocus() {\n      return setShowOptions(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), React.createElement(ChooseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  })), showOptions && React.createElement(View, {\n    style: styles.dropdownList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, React.createElement(FlatList, {\n    data: filteredOptions,\n    keyExtractor: function keyExtractor(item) {\n      return item.id.toString();\n    },\n    renderItem: renderItem,\n    scrollEnabled: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), React.createElement(FlatList, {\n    data: selectedOptions,\n    keyExtractor: function keyExtractor(item) {\n      return item.toString();\n    },\n    renderItem: renderSelectedItem,\n    scrollEnabled: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }));\n}\nexport default DropdownEmployee;","map":{"version":3,"names":["React","useState","useMemo","useCallback","useEffect","View","Text","TouchableOpacity","FlatList","TextInput","ChooseIcon","CancelIcon","styles","DropdownEmployee","_ref","_this","options","selectedValues","onValueChange","_useState","_useState2","_slicedToArray","showOptions","setShowOptions","_useState3","_useState4","selectedOptions","setSelectedOptions","_useState5","_useState6","searchText","setSearchText","filteredOptions","filter","option","full_name","toLowerCase","includes","handleSelectOption","prevSelectedOptions","newSelectedOptions","id","concat","_toConsumableArray","renderItem","_ref2","item","createElement","onPress","style","rowStyle","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","renderSelectedItem","_ref3","selectedItem","find","selectedItemContainer","selectedItemTextRow","selectedItemText","searchContainer","dropdownInput","placeholder","value","onChangeText","text","onFocus","dropdownList","data","keyExtractor","toString","scrollEnabled"],"sources":["C:/Users/fred/Desktop/client/src/components/DropdownEmployee.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, FlatList, TextInput } from 'react-native';\r\nimport { ChooseIcon, CancelIcon } from '../icons';\r\nimport styles from '../styles/styles';\r\n\r\nfunction DropdownEmployee({ options, selectedValues, onValueChange }) {\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [selectedOptions, setSelectedOptions] = useState(selectedValues || []);\r\n    const [searchText, setSearchText] = useState('');\r\n\r\n    const filteredOptions = useMemo(() =>\r\n        options.filter(option =>\r\n            option.full_name.toLowerCase().includes(searchText.toLowerCase())\r\n        ), [options, searchText]\r\n    );\r\n\r\n    useEffect(() => {\r\n        setSelectedOptions(selectedValues);\r\n    }, [selectedValues]);\r\n\r\n    const handleSelectOption = useCallback((option) => {\r\n        setSelectedOptions(prevSelectedOptions => {\r\n            const newSelectedOptions = prevSelectedOptions.includes(option.id)\r\n                ? prevSelectedOptions.filter(id => id !== option.id)\r\n                : [...prevSelectedOptions, option.id];\r\n            onValueChange(newSelectedOptions);\r\n            return newSelectedOptions;\r\n        });\r\n    }, [onValueChange]);\r\n\r\n    const renderItem = ({ item }) => (\r\n        <TouchableOpacity\r\n            onPress={() => handleSelectOption(item)}\r\n            style={styles.rowStyle}\r\n        >\r\n            <Text>{item.full_name}</Text>\r\n            {selectedOptions.includes(item.id) ? <CancelIcon /> : <ChooseIcon />}\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    const renderSelectedItem = ({ item }) => {\r\n        const selectedItem = options.find(option => option.id === item);\r\n        return selectedItem ? (\r\n            <View style={styles.selectedItemContainer}>\r\n                <View style={styles.selectedItemTextRow}>\r\n                    <Text style={styles.selectedItemText}>{selectedItem.full_name}</Text>\r\n                    <TouchableOpacity onPress={() => handleSelectOption(selectedItem)}>\r\n                        <CancelIcon />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        ) : null;\r\n    };\r\n\r\n    return (\r\n        <View>\r\n            <TouchableOpacity\r\n                onPress={() => setShowOptions(!showOptions)}\r\n                style={styles.searchContainer}\r\n            >\r\n                <TextInput\r\n                    style={styles.dropdownInput}\r\n                    placeholder=\"Поиск...\"\r\n                    value={searchText}\r\n                    onChangeText={(text) => {\r\n                        setSearchText(text);\r\n                        setShowOptions(true);\r\n                    }}\r\n                    onFocus={() => setShowOptions(true)}\r\n                />\r\n                <ChooseIcon />\r\n            </TouchableOpacity>\r\n            {showOptions && (\r\n                <View style={styles.dropdownList}>\r\n                    <FlatList\r\n                        data={filteredOptions}\r\n                        keyExtractor={(item) => item.id.toString()}\r\n                        renderItem={renderItem}\r\n                        scrollEnabled={false}\r\n                    />\r\n                </View>\r\n            )}\r\n            <FlatList\r\n                data={selectedOptions}\r\n                keyExtractor={(item) => item.toString()}\r\n                renderItem={renderSelectedItem}\r\n                scrollEnabled={false}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default DropdownEmployee;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}