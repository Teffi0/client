{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\fred\\\\Desktop\\\\client\\\\src\\\\components\\\\DropdownEmployee.js\";\nimport React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { ChooseIcon, CancelIcon } from '../icons';\nimport styles from '../styles/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DropdownEmployee(_ref) {\n  var _this = this;\n  var options = _ref.options,\n    selectedValues = _ref.selectedValues,\n    onValueChange = _ref.onValueChange;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showOptions = _useState2[0],\n    setShowOptions = _useState2[1];\n  var _useState3 = useState(selectedValues || []),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedOptions = _useState4[0],\n    setSelectedOptions = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchText = _useState6[0],\n    setSearchText = _useState6[1];\n  var filteredOptions = useMemo(function () {\n    return options.filter(function (option) {\n      return option.full_name.toLowerCase().includes(searchText.toLowerCase());\n    });\n  }, [options, searchText]);\n  useEffect(function () {\n    setSelectedOptions(selectedValues);\n  }, [selectedValues]);\n  var handleSelectOption = useCallback(function (option) {\n    setSelectedOptions(function (prevSelectedOptions) {\n      var newSelectedOptions = prevSelectedOptions.includes(option.id) ? prevSelectedOptions.filter(function (id) {\n        return id !== option.id;\n      }) : [].concat(_toConsumableArray(prevSelectedOptions), [option.id]);\n      onValueChange(newSelectedOptions);\n      return newSelectedOptions;\n    });\n  }, [onValueChange]);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxDEV(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleSelectOption(item);\n      },\n      style: styles.rowStyle,\n      children: [_jsxDEV(Text, {\n        children: item.full_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, _this), selectedOptions.includes(item.id) ? _jsxDEV(CancelIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 50\n      }, _this) : _jsxDEV(ChooseIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 67\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, _this);\n  };\n  var renderSelectedItem = function renderSelectedItem(_ref3) {\n    var item = _ref3.item;\n    var selectedItem = options.find(function (option) {\n      return option.id === item;\n    });\n    return selectedItem ? _jsxDEV(View, {\n      style: styles.selectedItemContainer,\n      children: _jsxDEV(View, {\n        style: styles.selectedItemTextRow,\n        children: [_jsxDEV(Text, {\n          style: styles.selectedItemText,\n          children: selectedItem.full_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, _this), _jsxDEV(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleSelectOption(selectedItem);\n          },\n          children: _jsxDEV(CancelIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, _this) : null;\n  };\n  return _jsxDEV(View, {\n    children: [_jsxDEV(TouchableOpacity, {\n      onPress: function onPress() {\n        return setShowOptions(!showOptions);\n      },\n      style: styles.searchContainer,\n      children: [_jsxDEV(TextInput, {\n        style: styles.dropdownInput,\n        placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n        value: searchText,\n        onChangeText: function onChangeText(text) {\n          setSearchText(text);\n          setShowOptions(true);\n        },\n        onFocus: function onFocus() {\n          return setShowOptions(true);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), _jsxDEV(ChooseIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), showOptions && _jsxDEV(View, {\n      style: styles.dropdownList,\n      children: _jsxDEV(FlatList, {\n        data: filteredOptions,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        renderItem: renderItem,\n        scrollEnabled: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), _jsxDEV(FlatList, {\n      data: selectedOptions,\n      keyExtractor: function keyExtractor(item) {\n        return item.toString();\n      },\n      renderItem: renderSelectedItem,\n      scrollEnabled: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\nexport default DropdownEmployee;","map":{"version":3,"names":["React","useState","useMemo","useCallback","useEffect","View","Text","TouchableOpacity","FlatList","TextInput","ChooseIcon","CancelIcon","styles","jsxDEV","_jsxDEV","DropdownEmployee","_ref","_this","options","selectedValues","onValueChange","_useState","_useState2","_slicedToArray","showOptions","setShowOptions","_useState3","_useState4","selectedOptions","setSelectedOptions","_useState5","_useState6","searchText","setSearchText","filteredOptions","filter","option","full_name","toLowerCase","includes","handleSelectOption","prevSelectedOptions","newSelectedOptions","id","concat","_toConsumableArray","renderItem","_ref2","item","onPress","style","rowStyle","children","fileName","_jsxFileName","lineNumber","columnNumber","renderSelectedItem","_ref3","selectedItem","find","selectedItemContainer","selectedItemTextRow","selectedItemText","searchContainer","dropdownInput","placeholder","value","onChangeText","text","onFocus","dropdownList","data","keyExtractor","toString","scrollEnabled"],"sources":["C:/Users/fred/Desktop/client/src/components/DropdownEmployee.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, FlatList, TextInput } from 'react-native';\r\nimport { ChooseIcon, CancelIcon } from '../icons';\r\nimport styles from '../styles/styles';\r\n\r\nfunction DropdownEmployee({ options, selectedValues, onValueChange }) {\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [selectedOptions, setSelectedOptions] = useState(selectedValues || []);\r\n    const [searchText, setSearchText] = useState('');\r\n\r\n    const filteredOptions = useMemo(() =>\r\n        options.filter(option =>\r\n            option.full_name.toLowerCase().includes(searchText.toLowerCase())\r\n        ), [options, searchText]\r\n    );\r\n\r\n    useEffect(() => {\r\n        setSelectedOptions(selectedValues);\r\n    }, [selectedValues]);\r\n\r\n    const handleSelectOption = useCallback((option) => {\r\n        setSelectedOptions(prevSelectedOptions => {\r\n            const newSelectedOptions = prevSelectedOptions.includes(option.id)\r\n                ? prevSelectedOptions.filter(id => id !== option.id)\r\n                : [...prevSelectedOptions, option.id];\r\n            onValueChange(newSelectedOptions);\r\n            return newSelectedOptions;\r\n        });\r\n    }, [onValueChange]);\r\n\r\n    const renderItem = ({ item }) => (\r\n        <TouchableOpacity\r\n            onPress={() => handleSelectOption(item)}\r\n            style={styles.rowStyle}\r\n        >\r\n            <Text>{item.full_name}</Text>\r\n            {selectedOptions.includes(item.id) ? <CancelIcon /> : <ChooseIcon />}\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    const renderSelectedItem = ({ item }) => {\r\n        const selectedItem = options.find(option => option.id === item);\r\n        return selectedItem ? (\r\n            <View style={styles.selectedItemContainer}>\r\n                <View style={styles.selectedItemTextRow}>\r\n                    <Text style={styles.selectedItemText}>{selectedItem.full_name}</Text>\r\n                    <TouchableOpacity onPress={() => handleSelectOption(selectedItem)}>\r\n                        <CancelIcon />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        ) : null;\r\n    };\r\n\r\n    return (\r\n        <View>\r\n            <TouchableOpacity\r\n                onPress={() => setShowOptions(!showOptions)}\r\n                style={styles.searchContainer}\r\n            >\r\n                <TextInput\r\n                    style={styles.dropdownInput}\r\n                    placeholder=\"Поиск...\"\r\n                    value={searchText}\r\n                    onChangeText={(text) => {\r\n                        setSearchText(text);\r\n                        setShowOptions(true);\r\n                    }}\r\n                    onFocus={() => setShowOptions(true)}\r\n                />\r\n                <ChooseIcon />\r\n            </TouchableOpacity>\r\n            {showOptions && (\r\n                <View style={styles.dropdownList}>\r\n                    <FlatList\r\n                        data={filteredOptions}\r\n                        keyExtractor={(item) => item.id.toString()}\r\n                        renderItem={renderItem}\r\n                        scrollEnabled={false}\r\n                    />\r\n                </View>\r\n            )}\r\n            <FlatList\r\n                data={selectedOptions}\r\n                keyExtractor={(item) => item.toString()}\r\n                renderItem={renderSelectedItem}\r\n                scrollEnabled={false}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default DropdownEmployee;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}