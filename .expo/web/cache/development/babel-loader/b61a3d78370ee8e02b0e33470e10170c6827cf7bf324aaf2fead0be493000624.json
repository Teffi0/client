{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fred\\\\Desktop\\\\client\\\\src\\\\components\\\\RenderMonth.js\",\n  _this = this;\nimport React, { memo, useMemo } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport VirtualizedList from \"react-native-web/dist/exports/VirtualizedList\";\nimport { format, startOfMonth, endOfMonth, startOfWeek, endOfWeek, addDays } from 'date-fns';\nimport { ru } from 'date-fns/locale';\nimport styles from '../styles/styles';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar calculateWeeks = function calculateWeeks(date) {\n  var start = startOfWeek(startOfMonth(date), {\n    weekStartsOn: 1\n  });\n  var end = endOfWeek(endOfMonth(date), {\n    weekStartsOn: 1\n  });\n  var currentDay = start;\n  var weeks = [];\n  while (currentDay <= end) {\n    weeks.push(Array.from({\n      length: 7\n    }, function (_, i) {\n      var day = addDays(currentDay, i);\n      return day.getMonth() === date.getMonth() ? day : null;\n    }));\n    currentDay = addDays(currentDay, 7);\n  }\n  return weeks;\n};\nvar Day = memo(function (_ref) {\n  var day = _ref.day,\n    handleDatePress = _ref.handleDatePress,\n    isSelectedDay = _ref.isSelectedDay,\n    hasTask = _ref.hasTask;\n  return _jsxDEV(View, {\n    style: styles.dayContainer,\n    children: day ? _jsxDEV(TouchableOpacity, {\n      style: [styles.dayButton, {\n        flex: 1\n      }],\n      onPress: function onPress() {\n        return handleDatePress(day);\n      },\n      children: [_jsxDEV(Text, {\n        style: [styles.dayText, isSelectedDay && styles.today],\n        children: format(day, 'd', {\n          locale: ru\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, _this), hasTask && _jsxDEV(View, {\n        style: styles.taskDotActive\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 29\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, _this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, _this);\n});\nDay.propTypes = {\n  day: PropTypes.instanceOf(Date),\n  handleDatePress: PropTypes.func.isRequired,\n  isSelectedDay: PropTypes.bool.isRequired,\n  hasTask: PropTypes.bool\n};\nDay.defaultProps = {\n  hasTask: false\n};\nvar RenderMonth = memo(function (_ref2) {\n  var date = _ref2.date,\n    handleDatePress = _ref2.handleDatePress,\n    taskDates = _ref2.taskDates;\n  var weeks = useMemo(function () {\n    return calculateWeeks(date);\n  }, [date]);\n  var todayFormatted = format(new Date(), 'yyyy-MM-dd');\n  return _jsxDEV(View, {\n    style: styles.monthContainer,\n    children: [_jsxDEV(Text, {\n      style: styles.monthName,\n      children: format(date, 'MMMM', {\n        locale: ru\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, _this), _jsxDEV(VirtualizedList, {\n      data: weeks,\n      renderItem: function renderItem(_ref3) {\n        var week = _ref3.item;\n        return _jsxDEV(View, {\n          style: styles.weekContainer,\n          children: week.map(function (day, index) {\n            return _jsxDEV(Day, {\n              day: day,\n              handleDatePress: handleDatePress,\n              isSelectedDay: !!day && format(day, 'yyyy-MM-dd') === todayFormatted,\n              hasTask: day ? ['в процессе', 'новая'].includes(taskDates[format(day, 'yyyy-MM-dd')]) : false\n            }, day ? format(day, 'yyyy-MM-dd') : `empty-${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, _this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, _this);\n      },\n      keyExtractor: function keyExtractor(_, index) {\n        return `week-${index}`;\n      },\n      getItemCount: function getItemCount() {\n        return weeks.length;\n      },\n      getItem: function getItem(data, index) {\n        return weeks[index];\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, _this);\n});\nRenderMonth.propTypes = {\n  date: PropTypes.instanceOf(Date).isRequired,\n  handleDatePress: PropTypes.func.isRequired,\n  taskDates: PropTypes.object.isRequired\n};\nexport default RenderMonth;","map":{"version":3,"names":["React","memo","useMemo","View","Text","TouchableOpacity","VirtualizedList","format","startOfMonth","endOfMonth","startOfWeek","endOfWeek","addDays","ru","styles","PropTypes","jsxDEV","_jsxDEV","calculateWeeks","date","start","weekStartsOn","end","currentDay","weeks","push","Array","from","length","_","i","day","getMonth","Day","_ref","handleDatePress","isSelectedDay","hasTask","style","dayContainer","children","dayButton","flex","onPress","dayText","today","locale","fileName","_jsxFileName","lineNumber","columnNumber","_this","taskDotActive","propTypes","instanceOf","Date","func","isRequired","bool","defaultProps","RenderMonth","_ref2","taskDates","todayFormatted","monthContainer","monthName","data","renderItem","_ref3","week","item","weekContainer","map","index","includes","keyExtractor","getItemCount","getItem","object"],"sources":["C:/Users/fred/Desktop/client/src/components/RenderMonth.js"],"sourcesContent":["import React, { memo, useMemo } from 'react';\r\nimport { View, Text, TouchableOpacity, VirtualizedList } from 'react-native';\r\nimport { format, startOfMonth, endOfMonth, startOfWeek, endOfWeek, addDays } from 'date-fns';\r\nimport { ru } from 'date-fns/locale';\r\nimport styles from '../styles/styles';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst calculateWeeks = (date) => {\r\n    const start = startOfWeek(startOfMonth(date), { weekStartsOn: 1 });\r\n    const end = endOfWeek(endOfMonth(date), { weekStartsOn: 1 });\r\n    let currentDay = start;\r\n    const weeks = [];\r\n\r\n    while (currentDay <= end) {\r\n        weeks.push(Array.from({ length: 7 }, (_, i) => {\r\n            const day = addDays(currentDay, i);\r\n            return day.getMonth() === date.getMonth() ? day : null;\r\n        }));\r\n        currentDay = addDays(currentDay, 7);\r\n    }\r\n    return weeks;\r\n};\r\n\r\n\r\nconst Day = memo(({ day, handleDatePress, isSelectedDay, hasTask }) => (\r\n    <View style={styles.dayContainer}>\r\n        {day ? (\r\n            <TouchableOpacity\r\n                style={[styles.dayButton, { flex: 1 }]}\r\n                onPress={() => handleDatePress(day)}\r\n            >\r\n                <Text style={[styles.dayText, isSelectedDay && styles.today]}>\r\n                    {format(day, 'd', { locale: ru })}\r\n                </Text>\r\n                {hasTask && <View style={styles.taskDotActive} />}\r\n            </TouchableOpacity>\r\n        ) : null}\r\n    </View>\r\n));\r\n\r\nDay.propTypes = {\r\n    day: PropTypes.instanceOf(Date),\r\n    handleDatePress: PropTypes.func.isRequired,\r\n    isSelectedDay: PropTypes.bool.isRequired,\r\n    hasTask: PropTypes.bool\r\n};\r\n\r\nDay.defaultProps = {\r\n    hasTask: false\r\n};\r\n\r\nconst RenderMonth = memo(({ date, handleDatePress, taskDates }) => {\r\n    const weeks = useMemo(() => calculateWeeks(date), [date]);\r\n    const todayFormatted = format(new Date(), 'yyyy-MM-dd');\r\n\r\n    return (\r\n        <View style={styles.monthContainer}>\r\n            <Text style={styles.monthName}>{format(date, 'MMMM', { locale: ru })}</Text>\r\n            <VirtualizedList\r\n                data={weeks}\r\n                renderItem={({ item: week }) => (\r\n                    <View style={styles.weekContainer}>\r\n                        {week.map((day, index) => (\r\n                            <Day\r\n                                key={day ? format(day, 'yyyy-MM-dd') : `empty-${index}`}\r\n                                day={day}\r\n                                handleDatePress={handleDatePress}\r\n                                isSelectedDay={!!day && format(day, 'yyyy-MM-dd') === todayFormatted}\r\n                                hasTask={day ? ['в процессе', 'новая'].includes(taskDates[format(day, 'yyyy-MM-dd')]) : false}\r\n                            />\r\n                        ))}\r\n                    </View>\r\n                )}\r\n                keyExtractor={(_, index) => `week-${index}`}\r\n                getItemCount={() => weeks.length}\r\n                getItem={(data, index) => weeks[index]}\r\n            />\r\n        </View>\r\n    );\r\n});\r\n\r\nRenderMonth.propTypes = {\r\n    date: PropTypes.instanceOf(Date).isRequired,\r\n    handleDatePress: PropTypes.func.isRequired,\r\n    taskDates: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default RenderMonth;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}