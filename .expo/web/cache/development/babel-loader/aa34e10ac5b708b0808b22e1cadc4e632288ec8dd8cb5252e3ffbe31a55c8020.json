{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useMemo, useCallback, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { ChooseIcon, CancelIcon } from \"../icons\";\nimport styles from \"../styles/styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction DropdownEmployee(_ref) {\n  var options = _ref.options,\n    selectedValues = _ref.selectedValues,\n    onValueChange = _ref.onValueChange;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showOptions = _useState2[0],\n    setShowOptions = _useState2[1];\n  var _useState3 = useState(selectedValues || []),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedOptions = _useState4[0],\n    setSelectedOptions = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchText = _useState6[0],\n    setSearchText = _useState6[1];\n  var filteredOptions = useMemo(function () {\n    return options.filter(function (option) {\n      return option.full_name.toLowerCase().includes(searchText.toLowerCase());\n    });\n  }, [options, searchText]);\n  useEffect(function () {\n    setSelectedOptions(selectedValues);\n  }, [selectedValues]);\n  var handleSelectOption = useCallback(function (option) {\n    setSelectedOptions(function (prevSelectedOptions) {\n      var newSelectedOptions = prevSelectedOptions.includes(option.id) ? prevSelectedOptions.filter(function (id) {\n        return id !== option.id;\n      }) : [].concat(_toConsumableArray(prevSelectedOptions), [option.id]);\n      onValueChange(newSelectedOptions);\n      return newSelectedOptions;\n    });\n  }, [onValueChange]);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return handleSelectOption(item);\n      },\n      style: styles.rowStyle,\n      children: [_jsx(Text, {\n        children: item.full_name\n      }), selectedOptions.includes(item.id) ? _jsx(CancelIcon, {}) : _jsx(ChooseIcon, {})]\n    });\n  };\n  var renderSelectedItem = function renderSelectedItem(_ref3) {\n    var item = _ref3.item;\n    var selectedItem = options.find(function (option) {\n      return option.id === item;\n    });\n    return selectedItem ? _jsx(View, {\n      style: styles.selectedItemContainer,\n      children: _jsxs(View, {\n        style: styles.selectedItemTextRow,\n        children: [_jsx(Text, {\n          style: styles.selectedItemText,\n          children: selectedItem.full_name\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return handleSelectOption(selectedItem);\n          },\n          children: _jsx(CancelIcon, {})\n        })]\n      })\n    }) : null;\n  };\n  return _jsxs(View, {\n    children: [_jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return setShowOptions(!showOptions);\n      },\n      style: styles.searchContainer,\n      children: [_jsx(TextInput, {\n        style: styles.dropdownInput,\n        placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n        value: searchText,\n        onChangeText: function onChangeText(text) {\n          setSearchText(text);\n          setShowOptions(true);\n        },\n        onFocus: function onFocus() {\n          return setShowOptions(true);\n        }\n      }), _jsx(ChooseIcon, {})]\n    }), showOptions && _jsx(View, {\n      style: styles.dropdownList,\n      children: _jsx(FlatList, {\n        data: filteredOptions,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        renderItem: renderItem,\n        scrollEnabled: false\n      })\n    }), _jsx(FlatList, {\n      data: selectedOptions,\n      keyExtractor: function keyExtractor(item) {\n        return item.toString();\n      },\n      renderItem: renderSelectedItem,\n      scrollEnabled: false\n    })]\n  });\n}\nexport default DropdownEmployee;","map":{"version":3,"names":["React","useState","useMemo","useCallback","useEffect","View","Text","TouchableOpacity","FlatList","TextInput","ChooseIcon","CancelIcon","styles","jsx","_jsx","jsxs","_jsxs","DropdownEmployee","_ref","options","selectedValues","onValueChange","_useState","_useState2","_slicedToArray","showOptions","setShowOptions","_useState3","_useState4","selectedOptions","setSelectedOptions","_useState5","_useState6","searchText","setSearchText","filteredOptions","filter","option","full_name","toLowerCase","includes","handleSelectOption","prevSelectedOptions","newSelectedOptions","id","concat","_toConsumableArray","renderItem","_ref2","item","onPress","style","rowStyle","children","renderSelectedItem","_ref3","selectedItem","find","selectedItemContainer","selectedItemTextRow","selectedItemText","searchContainer","dropdownInput","placeholder","value","onChangeText","text","onFocus","dropdownList","data","keyExtractor","toString","scrollEnabled"],"sources":["C:/Users/fred/Desktop/client/src/components/DropdownEmployee.js"],"sourcesContent":["import React, { useState, useMemo, useCallback, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, FlatList, TextInput } from 'react-native';\r\nimport { ChooseIcon, CancelIcon } from '../icons';\r\nimport styles from '../styles/styles';\r\n\r\nfunction DropdownEmployee({ options, selectedValues, onValueChange }) {\r\n    const [showOptions, setShowOptions] = useState(false);\r\n    const [selectedOptions, setSelectedOptions] = useState(selectedValues || []);\r\n    const [searchText, setSearchText] = useState('');\r\n\r\n    const filteredOptions = useMemo(() =>\r\n        options.filter(option =>\r\n            option.full_name.toLowerCase().includes(searchText.toLowerCase())\r\n        ), [options, searchText]\r\n    );\r\n\r\n    useEffect(() => {\r\n        setSelectedOptions(selectedValues);\r\n    }, [selectedValues]);\r\n\r\n    const handleSelectOption = useCallback((option) => {\r\n        setSelectedOptions(prevSelectedOptions => {\r\n            const newSelectedOptions = prevSelectedOptions.includes(option.id)\r\n                ? prevSelectedOptions.filter(id => id !== option.id)\r\n                : [...prevSelectedOptions, option.id];\r\n            onValueChange(newSelectedOptions);\r\n            return newSelectedOptions;\r\n        });\r\n    }, [onValueChange]);\r\n\r\n    const renderItem = ({ item }) => (\r\n        <TouchableOpacity\r\n            onPress={() => handleSelectOption(item)}\r\n            style={styles.rowStyle}\r\n        >\r\n            <Text>{item.full_name}</Text>\r\n            {selectedOptions.includes(item.id) ? <CancelIcon /> : <ChooseIcon />}\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    const renderSelectedItem = ({ item }) => {\r\n        const selectedItem = options.find(option => option.id === item);\r\n        return selectedItem ? (\r\n            <View style={styles.selectedItemContainer}>\r\n                <View style={styles.selectedItemTextRow}>\r\n                    <Text style={styles.selectedItemText}>{selectedItem.full_name}</Text>\r\n                    <TouchableOpacity onPress={() => handleSelectOption(selectedItem)}>\r\n                        <CancelIcon />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        ) : null;\r\n    };\r\n\r\n    return (\r\n        <View>\r\n            <TouchableOpacity\r\n                onPress={() => setShowOptions(!showOptions)}\r\n                style={styles.searchContainer}\r\n            >\r\n                <TextInput\r\n                    style={styles.dropdownInput}\r\n                    placeholder=\"Поиск...\"\r\n                    value={searchText}\r\n                    onChangeText={(text) => {\r\n                        setSearchText(text);\r\n                        setShowOptions(true);\r\n                    }}\r\n                    onFocus={() => setShowOptions(true)}\r\n                />\r\n                <ChooseIcon />\r\n            </TouchableOpacity>\r\n            {showOptions && (\r\n                <View style={styles.dropdownList}>\r\n                    <FlatList\r\n                        data={filteredOptions}\r\n                        keyExtractor={(item) => item.id.toString()}\r\n                        renderItem={renderItem}\r\n                        scrollEnabled={false}\r\n                    />\r\n                </View>\r\n            )}\r\n            <FlatList\r\n                data={selectedOptions}\r\n                keyExtractor={(item) => item.toString()}\r\n                renderItem={renderSelectedItem}\r\n                scrollEnabled={false}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default DropdownEmployee;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}