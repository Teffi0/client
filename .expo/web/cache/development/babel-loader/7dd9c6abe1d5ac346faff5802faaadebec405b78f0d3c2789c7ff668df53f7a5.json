{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _moment = _interopRequireDefault(require(\"moment\"));\nrequire(\"moment/locale/ru\");\nvar _styles = _interopRequireDefault(require(\"../styles/styles\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\fred\\\\Desktop\\\\client\\\\src\\\\components\\\\VerticalCalendar.js\";\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar screenHeight = _reactNative.Dimensions.get('window').height;\nvar VerticalCalendar = function VerticalCalendar(_ref) {\n  var tasks = _ref.tasks;\n  var flatListRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)((0, _moment.default)()),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    selectedDate = _useState2[0],\n    setSelectedDate = _useState2[1];\n  var _useState3 = (0, _react.useState)(Array.from({\n      length: 5\n    }, function (_, i) {\n      return (0, _moment.default)().clone().subtract(2, 'months').add(i, 'months');\n    })),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    data = _useState4[0],\n    setData = _useState4[1];\n  var _useState5 = (0, _react.useState)(0),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    page = _useState6[0],\n    setPage = _useState6[1];\n  var _useState7 = (0, _react.useState)(false),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    modalVisible = _useState8[0],\n    setModalVisible = _useState8[1];\n  var ModalHeight = screenHeight * 0.35;\n  var modalHeight = (0, _react.useRef)(new _reactNative.Animated.Value(ModalHeight));\n  var panResponder = (0, _react.useRef)(_reactNative.PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onPanResponderMove: function onPanResponderMove(event, gestureState) {\n      if (gestureState.dy > 0) {\n        modalHeight.current.setValue(ModalHeight + Math.abs(gestureState.dy));\n      } else {\n        modalHeight.current.setValue(ModalHeight - Math.abs(gestureState.dy));\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease(event, gestureState) {\n      if (gestureState.dy > 0) {\n        if (Math.abs(gestureState.dy) > ModalHeight * 0.1) {\n          closeModal();\n        } else {\n          openModal();\n        }\n      } else {\n        openModal();\n      }\n    }\n  })).current;\n  var openModal = function openModal() {\n    _reactNative.Animated.timing(modalHeight.current, {\n      toValue: ModalHeight,\n      duration: 500,\n      useNativeDriver: false\n    }).start();\n    setModalVisible(true);\n  };\n  var closeModal = function closeModal() {\n    _reactNative.Animated.timing(modalHeight.current, {\n      toValue: screenHeight,\n      duration: 500,\n      useNativeDriver: false\n    }).start(function () {\n      setModalVisible(false);\n      modalHeight.current.setValue(ModalHeight);\n    });\n  };\n  (0, _react.useEffect)(function () {\n    setTimeout(function () {\n      flatListRef.current.scrollToIndex({\n        index: 2,\n        animated: false\n      });\n    }, 0);\n  }, []);\n  (0, _react.useEffect)(function () {\n    setData(function (prevData) {\n      return [].concat((0, _toConsumableArray2.default)(prevData), (0, _toConsumableArray2.default)(Array.from({\n        length: 5\n      }, function (_, i) {\n        return (0, _moment.default)().clone().subtract(2, 'months').add(i + page * 5, 'months');\n      })));\n    });\n  }, [page]);\n  var isSameDate = function isSameDate(date1, date2) {\n    return date1.isSame(date2, 'day');\n  };\n  var handleDatePress = function handleDatePress(day) {\n    setSelectedDate(day);\n    setModalVisible(true);\n    _reactNative.Animated.timing(modalHeight.current, {\n      toValue: ModalHeight,\n      duration: 500,\n      useNativeDriver: false\n    }).start();\n  };\n  var renderMonth = function renderMonth(date, index) {\n    var monthStart = date.clone().startOf('month');\n    var firstDayOfMonth = monthStart.isoWeekday();\n    var monthEnd = date.clone().endOf('month');\n    var lastDayOfMonth = monthEnd.isoWeekday();\n    var monthName = date.format('MMMM');\n    var weeks = [];\n    var daysToAdd = 1 - firstDayOfMonth;\n    if (daysToAdd > 0) daysToAdd -= 7;\n    var currentWeek = [];\n    for (var i = daysToAdd; i <= date.daysInMonth(); i++) {\n      var day = monthStart.clone().add(i, 'days');\n      if (day.isSame(date, 'month')) {\n        currentWeek.push(day);\n      } else {\n        currentWeek.push(null);\n      }\n      if (currentWeek.length === 7) {\n        weeks.push(currentWeek);\n        currentWeek = [];\n      }\n    }\n    if (lastDayOfMonth < 7) {\n      for (var _i = 0; _i < 7 - lastDayOfMonth; _i++) {\n        currentWeek.push(null);\n      }\n    }\n    if (currentWeek.length > 0) {\n      weeks.push(currentWeek);\n    }\n    var lastWeek = weeks[weeks.length - 1];\n    if (lastWeek.every(function (day) {\n      return day === null || day.isoWeekday() !== 1;\n    })) {\n      weeks.pop();\n    }\n    if (lastWeek.length > 7) {\n      lastWeek.pop();\n    }\n    return (0, _jsxRuntime.jsxs)(_reactNative.View, {\n      style: _styles.default.monthContainer,\n      children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {\n        style: _styles.default.monthName,\n        children: monthName\n      }), weeks.map(function (week, weekIndex) {\n        return (0, _jsxRuntime.jsx)(_reactNative.View, {\n          style: _styles.default.weekContainer,\n          children: week.map(function (day, dayIndex) {\n            return (0, _jsxRuntime.jsx)(_reactNative.View, {\n              style: _styles.default.dayContainer,\n              children: day ? (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {\n                onPress: function onPress() {\n                  return handleDatePress(day);\n                },\n                children: (0, _jsxRuntime.jsx)(_reactNative.Text, {\n                  style: [_styles.default.dayText, isSameDate(day, (0, _moment.default)()) ? _styles.default.today : null],\n                  children: day.format('D')\n                })\n              }) : null\n            }, dayIndex);\n          })\n        }, weekIndex);\n      })]\n    }, index);\n  };\n  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {\n    children: [(0, _jsxRuntime.jsx)(_reactNative.FlatList, {\n      ref: flatListRef,\n      data: data,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return renderMonth(item);\n      },\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      getItemLayout: function getItemLayout(data, index) {\n        return {\n          length: 400,\n          offset: 400 * index,\n          index: index\n        };\n      },\n      onEndReached: function onEndReached() {\n        return setPage(function (prevPage) {\n          return prevPage + 1;\n        });\n      },\n      onEndReachedThreshold: 0.5,\n      showsVerticalScrollIndicator: false,\n      initialScrollIndex: 1\n    }), (0, _jsxRuntime.jsx)(_reactNative.Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: modalVisible,\n      onRequestClose: function onRequestClose() {\n        return closeModal();\n      },\n      children: (0, _jsxRuntime.jsx)(_reactNative.Animated.View, Object.assign({\n        style: {\n          top: modalHeight.current\n        }\n      }, panResponder.panHandlers, {\n        children: (0, _jsxRuntime.jsxs)(_reactNative.View, {\n          style: _styles.default.modalView,\n          children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {\n            style: _styles.default.modalText,\n            children: selectedDate.format('D-MMMM')\n          }), (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, {\n            style: [_styles.default.buttonClose],\n            onPress: function onPress() {\n              return closeModal();\n            },\n            children: (0, _jsxRuntime.jsx)(_reactNative.Text, {\n              style: _styles.default.textStyle,\n              children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n            })\n          })]\n        })\n      }))\n    })]\n  });\n};\nvar _default = exports.default = VerticalCalendar;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_moment","_interopRequireDefault","_styles","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","screenHeight","Dimensions","height","VerticalCalendar","_ref","tasks","flatListRef","useRef","_useState","useState","moment","_useState2","_slicedToArray2","selectedDate","setSelectedDate","_useState3","Array","from","length","_","clone","subtract","add","_useState4","data","setData","_useState5","_useState6","page","setPage","_useState7","_useState8","modalVisible","setModalVisible","ModalHeight","modalHeight","Animated","Value","panResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderMove","event","gestureState","dy","current","setValue","Math","abs","onPanResponderRelease","closeModal","openModal","timing","toValue","duration","useNativeDriver","start","useEffect","setTimeout","scrollToIndex","index","animated","prevData","concat","_toConsumableArray2","isSameDate","date1","date2","isSame","handleDatePress","day","renderMonth","date","monthStart","startOf","firstDayOfMonth","isoWeekday","monthEnd","endOf","lastDayOfMonth","monthName","format","weeks","daysToAdd","currentWeek","daysInMonth","push","lastWeek","every","pop","jsxs","View","style","styles","monthContainer","children","jsx","Text","map","week","weekIndex","weekContainer","dayIndex","dayContainer","TouchableOpacity","onPress","dayText","today","Fragment","FlatList","ref","renderItem","_ref2","item","keyExtractor","toString","getItemLayout","offset","onEndReached","prevPage","onEndReachedThreshold","showsVerticalScrollIndicator","initialScrollIndex","Modal","animationType","transparent","visible","onRequestClose","assign","top","panHandlers","modalView","modalText","buttonClose","textStyle","_default","exports"],"sources":["C:/Users/fred/Desktop/client/src/components/VerticalCalendar.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { View, Text, TouchableOpacity, FlatList, Modal, Dimensions, Animated, PanResponder } from 'react-native';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\nimport styles from '../styles/styles';\r\n\r\nconst screenHeight = Dimensions.get('window').height;\r\n\r\nconst VerticalCalendar = ({ tasks }) => {\r\n  const flatListRef = useRef(null);\r\n  const [selectedDate, setSelectedDate] = useState(moment());\r\n  const [data, setData] = useState(Array.from({ length: 5 }, (_, i) => moment().clone().subtract(2, 'months').add(i, 'months')));\r\n  const [page, setPage] = useState(0);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const ModalHeight = screenHeight * 0.35;\r\n  const modalHeight = useRef(new Animated.Value(ModalHeight));\r\n\r\n  const panResponder = useRef(\r\n    PanResponder.create({\r\n      onStartShouldSetPanResponder: () => true,\r\n      onPanResponderMove: (event, gestureState) => {\r\n          if (gestureState.dy > 0) {\r\n            // Если двигаем вниз, уменьшаем высоту модального окна\r\n            modalHeight.current.setValue(ModalHeight + Math.abs(gestureState.dy));\r\n          } else {\r\n            // Если двигаем вверх, увеличиваем высоту модального окна\r\n            modalHeight.current.setValue(ModalHeight - Math.abs(gestureState.dy));\r\n          }\r\n      },\r\n      onPanResponderRelease: (event, gestureState) => {\r\n          if (gestureState.dy > 0) {\r\n            // Если пользователь двигал вниз\r\n            if (Math.abs(gestureState.dy) > ModalHeight * 0.1) {\r\n              // Если пользователь уменьшил окно на 10% и отпустил, закрываем окно\r\n              closeModal();\r\n            } else {\r\n              // В противном случае, восстанавливаем максимальную высоту\r\n              openModal();\r\n            }\r\n          } else {\r\n            // Если пользователь двигал вверх, просто восстанавливаем максимальную высоту\r\n            openModal();\r\n          }\r\n      },\r\n    })\r\n  ).current;\r\n\r\n  const openModal = () => {\r\n    Animated.timing(modalHeight.current, {\r\n      toValue: ModalHeight,\r\n      duration: 500,\r\n      useNativeDriver: false,\r\n    }).start();\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    Animated.timing(modalHeight.current, {\r\n      toValue: screenHeight,\r\n      duration: 500,\r\n      useNativeDriver: false,\r\n    }).start(() => {\r\n      setModalVisible(false);\r\n      // После закрытия окна, восстанавливаем высоту до максимальной\r\n      modalHeight.current.setValue(ModalHeight);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      flatListRef.current.scrollToIndex({ index: 2, animated: false });\r\n    }, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setData(prevData => [...prevData, ...Array.from({ length: 5 }, (_, i) => moment().clone().subtract(2, 'months').add(i + page * 5, 'months'))]);\r\n  }, [page]);\r\n\r\n  const isSameDate = (date1, date2) => date1.isSame(date2, 'day');\r\n\r\n  const handleDatePress = (day) => {\r\n    setSelectedDate(day);\r\n    setModalVisible(true);\r\n    Animated.timing(modalHeight.current, { toValue: ModalHeight, duration: 500,  useNativeDriver: false}).start();\r\n  };\r\n\r\n  const renderMonth = (date, index) => {\r\n    const monthStart = date.clone().startOf('month');\r\n    const firstDayOfMonth = monthStart.isoWeekday();\r\n    const monthEnd = date.clone().endOf('month');\r\n    const lastDayOfMonth = monthEnd.isoWeekday();\r\n    const monthName = date.format('MMMM');\r\n    const weeks = [];\r\n  \r\n    let daysToAdd = 1 - firstDayOfMonth;\r\n    if (daysToAdd > 0) daysToAdd -= 7;\r\n  \r\n    let currentWeek = [];\r\n    for (let i = daysToAdd; i <= date.daysInMonth(); i++) {\r\n      const day = monthStart.clone().add(i, 'days');\r\n      if (day.isSame(date, 'month')) {\r\n        currentWeek.push(day);\r\n      } else {\r\n        currentWeek.push(null);\r\n      }\r\n  \r\n      if (currentWeek.length === 7) {\r\n        weeks.push(currentWeek);\r\n        currentWeek = [];\r\n      }\r\n    }\r\n\r\n    if (lastDayOfMonth < 7) {\r\n      for (let i = 0; i < 7 - lastDayOfMonth; i++) {\r\n        currentWeek.push(null);\r\n      }\r\n    }\r\n  \r\n    if (currentWeek.length > 0) {\r\n      weeks.push(currentWeek);\r\n    }\r\n\r\n    const lastWeek = weeks[weeks.length - 1];\r\n    if (lastWeek.every(day => day === null || day.isoWeekday() !== 1)) {\r\n      weeks.pop();\r\n    }\r\n    if (lastWeek.length > 7) { \r\n      lastWeek.pop();\r\n    }\r\n  \r\n    return (\r\n      <View key={index} style={styles.monthContainer}>\r\n        <Text style={styles.monthName}>\r\n          {monthName}\r\n        </Text>\r\n        {weeks.map((week, weekIndex) => (\r\n          <View key={weekIndex} style={styles.weekContainer}>\r\n            {week.map((day, dayIndex) => (\r\n              <View key={dayIndex} style={styles.dayContainer}>\r\n                {day ? (\r\n                  <TouchableOpacity onPress={() => handleDatePress(day)}>\r\n                    <Text style={[styles.dayText, isSameDate(day, moment()) ? styles.today : null]}>\r\n                      {day.format('D')}\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                ) : null}\r\n              </View>\r\n            ))}\r\n          </View>\r\n        ))}\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FlatList\r\n        ref={flatListRef}\r\n        data={data}\r\n        renderItem={({ item }) => renderMonth(item)}\r\n        keyExtractor={(item, index) => index.toString()}\r\n        getItemLayout={(data, index) => (\r\n          {length: 400, offset: 400 * index, index}\r\n        )}\r\n        onEndReached={() => setPage(prevPage => prevPage + 1)}\r\n        onEndReachedThreshold={0.5}\r\n        showsVerticalScrollIndicator={false}\r\n        initialScrollIndex={1}\r\n      />\r\n      <Modal\r\n        animationType=\"slide\"\r\n        transparent={true}\r\n        visible={modalVisible}\r\n        onRequestClose={() => closeModal()}\r\n      >\r\n        <Animated.View style={{ top: modalHeight.current }} {...panResponder.panHandlers}>\r\n          <View style={styles.modalView}>\r\n            <Text style={styles.modalText}>{selectedDate.format('D-MMMM')}</Text>\r\n            <TouchableOpacity style={[styles.buttonClose]} onPress={() => closeModal()}>\r\n              <Text style={styles.textStyle}>Закрыть</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </Animated.View>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default VerticalCalendar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}